[build]
  publish = "." # 发布根目录（静态文件直接部署）
  command = ""  # 无构建命令

[[headers]]
  # 静态资源长期缓存，提升加载速度
  for = "/*"
  [headers.values]
    Cache-Control = "public, max-age=31536000, immutable"
    Access-Control-Allow-Origin = "*" # 跨域图片加载
    Content-Encoding = "gzip" # 启用Gzip压缩

[[headers]]
  # HTML不缓存，确保更新后及时生效
  for = "/*.html"
  [headers.values]
    Cache-Control = "no-cache"
    Pragma = "no-cache"
    Expires = "0"

[[headers]]
  # 确保WebP图片格式被正确识别
  for = "/*.webp"
  [headers.values]
    Content-Type = "image/webp"
    Cache-Control = "public, max-age=31536000, immutable"

[[headers]]
  # 允许图片跨域加载
  for = "/images/*"
  [headers.values]
    Cache-Control = "public, max-age=31536000, immutable"
    Access-Control-Allow-Origin = "*"

# 404兜底，避免页面白屏
[[redirects]]
  from = "/*"
  to = "/index.html"
  status = 200
  force = true